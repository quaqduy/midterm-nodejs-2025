<%- include('partials/header', {title: 'Edit User' }) %>

    <div class="page-header">
        <h1><i class="fas fa-user-edit"></i> Edit User</h1>
        <a href="/users" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Back to Users
        </a>
    </div>

    <div class="form-container">
        <form action="/users/<%= user.id %>/update" method="POST" class="user-form">
            <% if (locals.error) { %>
                <div class="alert alert-danger">
                    <i class="fas fa-exclamation-circle"></i>
                    <%= locals.error %>
                </div>
                <% } %>

                    <div class="user-info">
                        <p><strong>User ID:</strong>
                            <%= user.id %>
                        </p>
                        <p><strong>Created:</strong>
                            <%= new Date(user.createdAt).toLocaleString() %>
                        </p>
                    </div>

                    <div class="form-group">
                        <label for="name">
                            <i class="fas fa-user"></i> Name *
                        </label>
                        <input type="text" id="name" name="name" value="<%= user.name %>" required class="form-control">
                    </div>

                    <div class="form-group">
                        <label for="email">
                            <i class="fas fa-envelope"></i> Email *
                        </label>
                        <input type="email" id="email" name="email" value="<%= user.email %>" required
                            class="form-control">
                    </div>

                    <div class="form-group">
                        <label for="age">
                            <i class="fas fa-birthday-cake"></i> Age
                        </label>
                        <input type="number" id="age" name="age" min="1" max="120" value="<%= user.age || '' %>"
                            class="form-control">
                    </div>

                    <div class="form-group">
                        <label for="password">
                            <i class="fas fa-lock"></i> New Password (Optional)
                        </label>
                        <input type="password" id="password" name="password" class="form-control">
                        <small class="form-text">Leave empty to keep current password</small>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary btn-lg">
                            <i class="fas fa-save"></i> Update User
                        </button>
                        <a href="/users/<%= user.id %>" class="btn btn-info">
                            <i class="fas fa-eye"></i> View Details
                        </a>
                        <a href="/users/<%= user.id %>/delete" class="btn btn-danger"
                            onclick="return confirm('Are you sure you want to delete this user?')">
                            <i class="fas fa-trash"></i> Delete User
                        </a>
                    </div>
        </form>
    </div>

    <div class="api-info">
        <h3><i class="fas fa-code"></i> API Equivalent</h3>
        <pre><code>PUT /api/users/<%= user.id %>
Content-Type: application/json

{
    "name": "<%= user.name %>",
    "email": "<%= user.email %>",
    "age": <%= user.age || 'null' %>
}</code></pre>
    </div>

    <%- include('partials/footer') %>